## Лексемы (продолжение)

### Целые числа

Целые числа могут быть записаны в десятичной (d - decimal, необязательно), двоичной (b - binary), восьмеричной (o - octal или q) и шестнадцатеричной (h - hexadecimal) системах счисления. В конце числа ставится спецификатор - буква, котора указывает, в какой системе записано число.

Примеры:

десятичные числа: 25, -386, +4, 25d, -386d \
двоичные числа: 101b, -11000b \
восьмеричные числа: 74q, -74q \
шестнадцатеричные числа: 1AFh, -1AFh

Если шестнадцатеричное число начинается с A-F, то в начале должен быть записан хотя бы один 0.

0A5h - число \
A5h - идентификатор

### Символьные данные

Символы и строки (последовательности символов) заключаются либо в одинарные, либо в двойные кавычки

'A', "A", 'A+b', "A+b" \
'B", "B' - ошибка, левая и правая кавычки должны быть одинаковыми

Если внутри строки надо указать кавычку, то кавычка, совпадающая с внешней, удваивается

'don ' ' t', "don't" -> don't \
"don""t", 'don"t' -> don"t

## Предложения

Программа на ЯА - последовательность предложений, каждое из которых записывается в отдельной строке:

предложение \
предложение \
…           \
предложение \

Предложения ЯА: комментарии, команды, директивы.

### Комментарии

Комментарий - любая строка, начинающаяся с ";" или пустая строка.

; это комментарий

Многострочный комментарий начинается со строчки

COMMENT маркер текст

Конец такого комментария - это конец первой из последующих строк программы, в которой встретился маркер (маркер - первый за словом COMMENT символ, отличный от пробела)

COMMENT * всё \
это является \
комментарием * и это тоже \

### Команды

Команды - символьная форма записи машинных команд.

Вид команды:

[метка:] мнемокод [операнды] [; комментарий]

LAB: ADD SI, 2 ; изменение индекса \
NEG A \
CBW

Метка - это имя. В строке можно указывать только метку.

INITIALIZATION: \
LAB: ADD BX, AX

Мнемокод - служебное слово, указывает операцию, которую должна выполнить команда.

Операнды записываются в виде выражений, если операнды есть, отделяются друг от друга запятыми.

Директивы - приказы транслятору

Вид директивы

[имя] название директивы [операнды] [;комментарий]

X DB 10, -5, 0FFh; массив X

Название директивы - служебное слово

## Директивы определение данных

Директивы определения данных используются для описания переменных, с которыми работает программа.

### Директива DB

Директива DB (define byte) определяет данные размером в байт.

Вид директивы DB

[имя] DB операнд {, операнд}

Операнд

- ? (знак неопределённого значения)
- константное значение

Встречая директиву DB, ассемблер вычисляет операнды и записывает их значения в последовательные байты памяти. Первому из этих байтов. Первому из этих байтов даётся указанное имя, по которому на этот байт можно ссылаться.

Можно описать переменную, которая не получает начального значения.

X DB ? ; переменная описывается, но не получает начального значения

```
  x
-----
 |/|
-----
```

Можно описать переменную с начальным значением.

A DB 254 ; FEh \
B DB -2 ; FEh \
C DB 17h

```
---------------------
 | FEh | FEh | 17h |
---------------------
```

В качестве начальных значений можем указать символ - либо числовой код символа, либо сам символ.

Q DB 2Ah \
или \
Q DB "*"

Можно описать массив

M DB 2   \
  DB -2  \
  DB ?   \
  DB '*' 

```
   M
---------------------
 | 2 | -2 | ? | 2A |
---------------------
```

M DB 2, -2, ?, '*'

Несколько соседних операндов-символы можно объединить в строку.

S DB 'a', 'b', 'c' \
S DB 'abc' \
S DB 'a' \
  DB 'b' \
  DB 'c'

Для указания одинаковых операндов можно использовать конструкцию повторения (DUP - duplicate, копировать)

k DUP (p1, p2, pn)

p1, p2, ... pn; p1, p2, ..., pn; p1, p2, ..., pn \
k раз

R DB 0,0,0,0,0,0,0,0 \
R DB 8 DUP(0)

X DB 2 DUP('ab', ?, 1) \
X DB 'ab', ?, 1, 'ab', ?, 1 \
Y DB -7, 3 DUP (0, 2 DUP(?)) \
Y DB -7, 0, ?, ?, 0, ?, ?, 0, ?, ?

A DB 20 DUP(30 DUP(?)) ; описание матрицы 20х30
